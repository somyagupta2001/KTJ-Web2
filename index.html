<!doctype html>
<html lang="en">
<head>
    <title>Puzzle Game</title>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="stylesheet" href="styles.css"> 
    <link href="https://fonts.googleapis.com/css2?family=Atomic+Age&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Atomic+Age&family=Roboto+Mono&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="images/main-logo.ico">

    <script src="myscript.js"></script>
</head>
    <script>
    var row=0;
    var col=0;
    var pic=0;
    function createTable(m,n){
        var table=document.getElementById("table");
        for(let i=0; i<m; i++){
            var tableRow=document.createElement("div");
            tableRow.id="row"+i;
            tableRow.style.display="table-row";
            table.appendChild(tableRow);
            for(let j=0; j<n; j++){
                var style= document.createElement("style");
                style.type="text/css";
                style.innerHTML=(".tile"+(i*n+j+1)+"{display: table-cell; width: "+(80/n)+"vw; height: "+(80/m)+"vh; border: 2px solid rgb(10, 10, 10); ");
                if ((i*n+j+1)!=(m*n)){
                    if(pic==1){
                        style.innerHTML+=("cursor: pointer; background: url(MoneyHeist.jpg); background-size:" +80+"vw "+80+"vh; background-position: "+j/(n-1)*100+"% "+i/(m-1)*100+"%;}");}
                    else if(pic==2){
                        style.innerHTML+=("cursor: pointer; background: url(Light.jpg); background-size:" +80+"vw "+80+"vh; background-position: "+j/(n-1)*100+"% "+i/(m-1)*100+"%;}");}

                    
                }
                else{
                    style.innerHTML+=("background: rgb(15, 15, 15); cursor: default;}");
                }
                document.getElementsByTagName("head")[0].appendChild(style);
                var cell=document.createElement("div");
                cell.id="cell"+(i+1)+(j+1);
                cell.className="tile"+(i*n+j+1);
                cell.addEventListener("click", function(){clickTile(i+1,j+1,m,n)});
                cell.addEventListener("click", function(){moveMade(mValue(),nValue())});
                document.getElementById("row"+i).appendChild(cell);}
            }}
    function input(){
        row=parseInt(prompt("Enter no. of rows","Number from 1-9"));
        col=parseInt(prompt("Enter no. of columns","Number from 1-9"));
        pic=parseInt(prompt("Choose type: 1.Money Heist Picture 2.Northern Lights Picture","Number from 1-2"));
        createTable(row,col); 
    }
    function mValue(){
        return row;
    }
    function nValue(){
        return col;
    }
    

    </script>
<body onkeydown="keyPressed(event,mValue(),nValue());moveMade(mValue(),nValue());" onload="setBestTime(); setBestMoves();">
    <button onClick="input();" class="button">Customise Puzzle</button>
    <div id="table" style="display: table;">
        <!--<div id="row1" style="display: table-row;">
           <div id="cell11" class="tile1" onClick="clickTile(1,1);moveMade();"></div>
           <div id="cell12" class="tile2" onClick="clickTile(1,2);moveMade();"></div>
           <div id="cell13" class="tile3" onClick="clickTile(1,3);moveMade();"></div>
        </div>
        <div id="row2" style="display: table-row;">
           <div id="cell21" class="tile4" onClick="clickTile(2,1);moveMade();"></div>
           <div id="cell22" class="tile5" onClick="clickTile(2,2);moveMade();"></div>
           <div id="cell23" class="tile6" onClick="clickTile(2,3);moveMade();"></div>
        </div>
        <div id="row3" style="display: table-row;">
           <div id="cell31" class="tile7" onClick="clickTile(3,1);moveMade();"></div>
           <div id="cell32" class="tile8" onClick="clickTile(3,2);moveMade();"></div>
           <div id="cell33" class="tile9" onClick="clickTile(3,3);moveMade();"></div>
        </div>-->
        </div>
    <div class="displayArea"><div id="timeDisplay" class="display">Time: 0s</div>
    <div id="MovesDisplay" class="display">Moves: 0</div><br><br>
    <div id="bestTimeDisplay" class="display" ></div>
    <div id="bestMovesDisplay" class="display" ></div></div>
    <!--<button onClick="createTable(mValue(),nValue());shuffle();" class="button">New Game</button>-->
</body>
</html>
